<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>单例模式</title>
</head>
<body>
    <script>
        // var Singleton = function(name){
        //     this.name = name
        //     this.instance = null
        // }
        // Singleton.prototype.getName = function(){
        //     return this.name
        // }
        // Singleton.getInstance = function(name){
        //     if(!this.instance){
        //         this.instance = new Singleton(name)
        //     }
        //     return this.instance;
        // }
        // var a = Singleton.getInstance("aaaa");
        // var b = Singleton.getInstance("bbbb");
        // console.log(a)
        // console.log(b.getName())
        // console.log(a===b);
        

        // var createDiv = (function(){
        //     var instance;

        //     var createDiv = function(html){
        //         if(instance){
        //             return instance
        //         }
        //         this.html = html;
        //         this.init()
        //         return instance = this
        //     };
        //     createDiv.prototype.init = function(){
        //         var div = document.createElement('div');
        //         div.innerHTML = this.html;
        //         document.body.appendChild(div)
        //     }
        //     return createDiv
        // })();
        // var a = new createDiv('sven1');
        // var b = new createDiv('sven2');
        // alert( a===b)

        var createDiv = function(html){
            this.html = html;
            this.init()
        }
        createDiv.prototype.init = function(){
            var div = document.createElement('div');
            div.innerHTML = this.html;
            document.body.appendChild(div)
        }
        var ProxySingtonCreateDiv = (function(){
            var instance;
            return function(html){
                if(!instance){
                    instance = new createDiv(html)
                }
                return instance;
            }
        })()
        var a = new ProxySingtonCreateDiv('sven1');
        var b = new ProxySingtonCreateDiv('sven2');
        alert( a===b)
        
        var user = (function(){
            var __name = 'sven'
            var __age = '18'
            return {
                getUserInfo:function(){
                    return __age+'-'+__name+'-'
                }
            }
        })();
        console.log(user.getUserInfo())
    </script>
</body>
</html>