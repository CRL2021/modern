<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // var Beverage = function(){
        // }
        // Beverage.prototype.boilWater = function(){
        //     console.log("把水煮沸")
        // }
        // Beverage.prototype.brew = function(){ //空方法，应该由子类重写
        //     throw new Error("子类必须重写brew方法")
        // }
        // Beverage.prototype.pourInCup = function(){  //空方法，应该由子类重写
        //     throw new Error("子类必须重写pourInCup方法")
        // }
        // Beverage.prototype.addCondiments = function(){  //空方法，应该由子类重写
        //     throw new Error("子类必须重写addCondiments方法")
        // }
        // Beverage.prototype.customerWantsCondiments = function(){  
        //     return true
        // }
        // Beverage.prototype.init = function(){
        //     this.boilWater()
        //     this.brew()
        //     this.pourInCup()
        //     if(this.customerWantsCondiments()){
        //         this.addCondiments()
        //     }
          
        // }
        // var Coffee = function(){
        // }
        // Coffee.prototype = new Beverage()
        // Coffee.prototype.brew = function(){ 
        //     console.log("用沸水冲泡咖啡")
        // }
        // Coffee.prototype.pourInCup = function(){ 
        //     console.log("把咖啡倒进杯子")
        // }
        // Coffee.prototype.addCondiments = function(){  
        //     console.log("加糖和牛奶")
        // }
        // Coffee.prototype.customerWantsCondiments = function(){  
        //     return window.confirm("请问需要调料吗")
        // }
        // var coffee= new Coffee()
        // coffee.init()

        // var Tea = function(){
        // }
        // Tea.prototype = new Beverage()
        // Tea.prototype.brew = function(){ 
        //     console.log("用沸水冲泡茶")
        // }
        // Tea.prototype.pourInCup = function(){ 
        //     console.log("把茶倒进杯子")
        // }
        // Tea.prototype.addCondiments = function(){  
        //     console.log("加柠檬")
        // }
        // var tea= new Tea()
        // tea.init()

        //好莱坞原则:子类放弃对自己的控制权，改为父类通知子类，哪些方法应该在什么时候被调用
        var Beverage = function(param){
            var boilWater = function(){
                console.log("把水煮沸")
            };
            var brew = param.brew || function(){
                throw new Error("必须转递brew方法")
            };
            var pourInCup = param.pourInCup || function(){
                throw new Error("必须转递brew方法")
            };
            var addCondiments = param.addCondiments || function(){
                throw new Error("必须转递brew方法")
            };
           var F= function(){
           }
           F.prototype.init = function(){
            boilWater()
            brew()
            pourInCup()
            addCondiments()
           }
           return F
        }
        var Coffee =  Beverage({
            brew:function(){
                console.log("用沸水冲泡咖啡")
            },
            pourInCup:function(){
                console.log("把咖啡倒进杯子")
            },
            addCondiments:function(){
                console.log("加糖和牛奶")
            }
        })
        var coffee = new Coffee()
        coffee.init()
        var Tea =  Beverage({
            brew:function(){
                console.log("用沸水冲泡茶")
            },
            pourInCup:function(){
                console.log("把茶倒进杯子")
            },
            addCondiments:function(){
                console.log("加柠檬")
            }
        })
        var tea = new Tea()
        tea.init()
    </script>
</body>
</html>